{"ast":null,"code":"var _jsxFileName = \"/home/dexter/Desktop/Final/FrontEnd-Prod2/src/components/Log/SignUpForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport SignInForm from \"./SignInForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SignUpForm = () => {\n  _s();\n\n  const [formSubmit, setFormSubmit] = useState(false);\n  const [pseudo, setPseudo] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [controlPassword, setControlPassword] = useState(\"\");\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    const terms = document.getElementById(\"terms\");\n    const pseudoError = document.querySelector(\".pseudo.error\");\n    const emailError = document.querySelector(\".email.error\");\n    const passwordError = document.querySelector(\".password.error\");\n    const passwordConfirmError = document.querySelector(\".password-confirm.error\");\n    const termsError = document.querySelector(\".terms.error\");\n    passwordConfirmError.innerHTML = \"\";\n    termsError.innerHTML = \"\";\n\n    if (password !== controlPassword || !terms.checked) {\n      if (password !== controlPassword) passwordConfirmError.innerHTML = \"Les mots de passe ne correspondent pas\";\n      if (!terms.checked) termsError.innerHTML = \"Veuillez valider les conditions générales\";\n    } else {\n      await axios({\n        method: \"post\",\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\n        data: {\n          pseudo,\n          email,\n          password\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.errors) {\n          pseudoError.innerHTML = res.data.errors.pseudo;\n          emailError.innerHTML = res.data.errors.email;\n          passwordError.innerHTML = res.data.errors.password;\n        } else {\n          setFormSubmit(true);\n        }\n      }).catch(err => console.log(err));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: formSubmit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SignInForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"success\",\n        children: \"Enregistrement r\\xE9ussi, veuillez-vous connecter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"\",\n      onSubmit: handleRegister,\n      id: \"sign-up-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"pseudo\",\n        children: \"Pseudo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"pseudo\",\n        id: \"pseudo\",\n        onChange: e => setPseudo(e.target.value),\n        value: pseudo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pseudo error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        id: \"email\",\n        onChange: e => setEmail(e.target.value),\n        value: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        id: \"password\",\n        onChange: e => setPassword(e.target.value),\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"password error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password-conf\",\n        children: \"Confirmer mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        id: \"password-conf\",\n        onChange: e => setControlPassword(e.target.value),\n        value: controlPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"password-confirm error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"terms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"terms\",\n        children: [\"J'accepte les\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"conditions g\\xE9n\\xE9rales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"terms error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Valider inscription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(SignUpForm, \"zuBpTmdP4YRPQ6ZaQpYYGosTei8=\");\n\n_c = SignUpForm;\nexport default SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");","map":{"version":3,"sources":["/home/dexter/Desktop/Final/FrontEnd-Prod2/src/components/Log/SignUpForm.js"],"names":["React","useState","axios","SignInForm","SignUpForm","formSubmit","setFormSubmit","pseudo","setPseudo","email","setEmail","password","setPassword","controlPassword","setControlPassword","handleRegister","e","preventDefault","terms","document","getElementById","pseudoError","querySelector","emailError","passwordError","passwordConfirmError","termsError","innerHTML","checked","method","url","process","env","REACT_APP_API_URL","data","then","res","console","log","errors","catch","err","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport SignInForm from \"./SignInForm\";\n\nconst SignUpForm = () => {\n  const [formSubmit, setFormSubmit] = useState(false);\n  const [pseudo, setPseudo] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [controlPassword, setControlPassword] = useState(\"\");\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    const terms = document.getElementById(\"terms\");\n    const pseudoError = document.querySelector(\".pseudo.error\");\n    const emailError = document.querySelector(\".email.error\");\n    const passwordError = document.querySelector(\".password.error\");\n    const passwordConfirmError = document.querySelector(\n      \".password-confirm.error\"\n    );\n    const termsError = document.querySelector(\".terms.error\");\n\n    passwordConfirmError.innerHTML = \"\";\n    termsError.innerHTML = \"\";\n\n    if (password !== controlPassword || !terms.checked) {\n      if (password !== controlPassword)\n        passwordConfirmError.innerHTML =\n          \"Les mots de passe ne correspondent pas\";\n\n      if (!terms.checked)\n        termsError.innerHTML = \"Veuillez valider les conditions générales\";\n    } else {\n      await axios({\n        method: \"post\",\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\n        data: {\n          pseudo,\n          email,\n          password,\n        },\n      })\n        .then((res) => {\n          console.log(res);\n          if (res.data.errors) {\n            pseudoError.innerHTML = res.data.errors.pseudo;\n            emailError.innerHTML = res.data.errors.email;\n            passwordError.innerHTML = res.data.errors.password;\n          } else {\n            setFormSubmit(true);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  return (\n    <>\n      {formSubmit ? (\n        <>\n          <SignInForm />\n          <span></span>\n          <h4 className=\"success\">\n            Enregistrement réussi, veuillez-vous connecter\n          </h4>\n        </>\n      ) : (\n        <form action=\"\" onSubmit={handleRegister} id=\"sign-up-form\">\n          <label htmlFor=\"pseudo\">Pseudo</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"pseudo\"\n            id=\"pseudo\"\n            onChange={(e) => setPseudo(e.target.value)}\n            value={pseudo}\n          />\n          <div className=\"pseudo error\"></div>\n          <br />\n          <label htmlFor=\"email\">Email</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"email\"\n            id=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n          <div className=\"email error\"></div>\n          <br />\n          <label htmlFor=\"password\">Mot de passe</label>\n          <br />\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <div className=\"password error\"></div>\n          <br />\n          <label htmlFor=\"password-conf\">Confirmer mot de passe</label>\n          <br/>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password-conf\"\n            onChange={(e) => setControlPassword(e.target.value)}\n            value={controlPassword}\n          />\n          <div className=\"password-confirm error\"></div>\n          <br />\n          <input type=\"checkbox\" id=\"terms\" />\n          <label htmlFor=\"terms\">\n            J'accepte les{\" \"}\n            <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              conditions générales\n            </a>\n          </label>\n          <div className=\"terms error\"></div>\n          <br />\n          <input type=\"submit\" value=\"Valider inscription\" />\n        </form>\n      )}\n    </>\n  );\n};\n\nexport default SignUpForm;"]},"metadata":{},"sourceType":"module"}